version: 1
frontend:
  phases:
    # 1. Fase de PRE-BUILD: Entrar a la carpeta del frontend
    preBuild:
      commands:
        - cd Client-react  # <-- ¡Paso crucial! Moverse al directorio del package.json
        - npm install
    # 2. Fase de BUILD: Ejecutar el build
    build:
      commands:
        - npm run build
  # 3. Artefactos: Definir la ruta COMPLETA del código compilado
  artifacts:
    # La ruta al código compilado, desde la RAÍZ del repositorio
    baseDirectory: Client-react/dist
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*
